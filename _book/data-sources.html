<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Real Estate Market Analysis</title>
  <meta name="description" content="Materials for Real Estate Market Analysis course conducted at Poznań University of Economics and Business">
  <meta name="generator" content="bookdown 0.3.17 and GitBook 2.6.7">

  <meta property="og:title" content="Real Estate Market Analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Materials for Real Estate Market Analysis course conducted at Poznań University of Economics and Business" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Real Estate Market Analysis" />
  
  <meta name="twitter:description" content="Materials for Real Estate Market Analysis course conducted at Poznań University of Economics and Business" />
  

<meta name="author" content="Maciej Beręsewicz">


<meta name="date" content="2017-05-09">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="intro.html">
<link rel="next" href="internet-data-sources.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#basic-definitions"><i class="fa fa-check"></i><b>2.1</b> Basic definitions</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#real-estate-market-characteristics-and-functions"><i class="fa fa-check"></i><b>2.2</b> Real estate market – characteristics and functions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>3</b> Data sources on real estate market</a><ul>
<li class="chapter" data-level="3.1" data-path="data-sources.html"><a href="data-sources.html#basic-data-sources"><i class="fa fa-check"></i><b>3.1</b> Basic data sources</a></li>
<li class="chapter" data-level="3.2" data-path="data-sources.html"><a href="data-sources.html#where-we-can-get-these-data"><i class="fa fa-check"></i><b>3.2</b> Where we can get these data?</a></li>
<li class="chapter" data-level="3.3" data-path="data-sources.html"><a href="data-sources.html#obtaining-data-from-the-internet"><i class="fa fa-check"></i><b>3.3</b> Obtaining data from the Internet</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-sources.html"><a href="data-sources.html#oecd-package"><i class="fa fa-check"></i><b>3.3.1</b> OECD package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="internet-data-sources.html"><a href="internet-data-sources.html"><i class="fa fa-check"></i><b>4</b> Internet data sources</a><ul>
<li class="chapter" data-level="4.1" data-path="internet-data-sources.html"><a href="internet-data-sources.html#some-theory"><i class="fa fa-check"></i><b>4.1</b> Some theory</a></li>
<li class="chapter" data-level="4.2" data-path="internet-data-sources.html"><a href="internet-data-sources.html#scraping-data-from-morizon.pl-step-by-step"><i class="fa fa-check"></i><b>4.2</b> Scraping data from Morizon.pl – step by step</a></li>
<li class="chapter" data-level="4.3" data-path="internet-data-sources.html"><a href="internet-data-sources.html#scraping-data-from-otodom.pl-step-by-step"><i class="fa fa-check"></i><b>4.3</b> Scraping data from OtoDom.pl – step by step</a><ul>
<li class="chapter" data-level="4.3.1" data-path="internet-data-sources.html"><a href="internet-data-sources.html#full-code-for-morizon"><i class="fa fa-check"></i><b>4.3.1</b> Full code for Morizon</a></li>
<li class="chapter" data-level="4.3.2" data-path="internet-data-sources.html"><a href="internet-data-sources.html#full-code-for-otodom"><i class="fa fa-check"></i><b>4.3.2</b> Full code for OtoDom</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="characteristics-of-real-estate-market-in-poland-and-europe.html"><a href="characteristics-of-real-estate-market-in-poland-and-europe.html"><i class="fa fa-check"></i><b>5</b> Characteristics of Real Estate Market in Poland and Europe</a></li>
<li class="chapter" data-level="6" data-path="descriptives-statistics-as-basic-method-of-analysis-of-real-estate-market.html"><a href="descriptives-statistics-as-basic-method-of-analysis-of-real-estate-market.html"><i class="fa fa-check"></i><b>6</b> Descriptives statistics as basic method of analysis of Real Estate Market</a></li>
<li class="chapter" data-level="7" data-path="data-cleaning-techniques-and-outliers-detection.html"><a href="data-cleaning-techniques-and-outliers-detection.html"><i class="fa fa-check"></i><b>7</b> Data cleaning techniques and outliers detection</a><ul>
<li class="chapter" data-level="7.1" data-path="data-cleaning-techniques-and-outliers-detection.html"><a href="data-cleaning-techniques-and-outliers-detection.html#outliers-and-influence-measures"><i class="fa fa-check"></i><b>7.1</b> Outliers and influence measures</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="indices.html"><a href="indices.html"><i class="fa fa-check"></i><b>8</b> Indices</a></li>
<li class="chapter" data-level="9" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>9</b> Regression</a></li>
<li class="chapter" data-level="10" data-path="gis-tools.html"><a href="gis-tools.html"><i class="fa fa-check"></i><b>10</b> GIS Tools</a></li>
<li class="chapter" data-level="11" data-path="spatial-models.html"><a href="spatial-models.html"><i class="fa fa-check"></i><b>11</b> Spatial models</a></li>
<li class="chapter" data-level="12" data-path="forecasting.html"><a href="forecasting.html"><i class="fa fa-check"></i><b>12</b> Forecasting</a></li>
<li class="chapter" data-level="13" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>13</b> References</a></li>
<li class="chapter" data-level="14" data-path="additional-topics.html"><a href="additional-topics.html"><i class="fa fa-check"></i><b>14</b> Additional topics</a><ul>
<li class="chapter" data-level="14.1" data-path="additional-topics.html"><a href="additional-topics.html#regular-expressions"><i class="fa fa-check"></i><b>14.1</b> Regular expressions</a><ul>
<li class="chapter" data-level="14.1.1" data-path="additional-topics.html"><a href="additional-topics.html#introduction-to-stringi-package"><i class="fa fa-check"></i><b>14.1.1</b> Introduction to <code>stringi</code> package</a></li>
<li class="chapter" data-level="14.1.2" data-path="additional-topics.html"><a href="additional-topics.html#basic-notation"><i class="fa fa-check"></i><b>14.1.2</b> Basic notation</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="additional-topics.html"><a href="additional-topics.html#examples"><i class="fa fa-check"></i><b>14.2</b> Examples</a><ul>
<li class="chapter" data-level="14.2.1" data-path="additional-topics.html"><a href="additional-topics.html#extract-digits"><i class="fa fa-check"></i><b>14.2.1</b> Extract digits</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Real Estate Market Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-sources" class="section level1">
<h1><span class="header-section-number">3</span> Data sources on real estate market</h1>
<div id="basic-data-sources" class="section level2">
<h2><span class="header-section-number">3.1</span> Basic data sources</h2>
<ul>
<li>Land surveying documentation (dokumentacja geodezyjna)</li>
<li>Mortgage registers (księgi wieczyste)</li>
<li>Notarial deeds (akty notarialne)</li>
<li>Reports and results of conducted analysis</li>
<li>Surveys (based on questionaires)</li>
<li>The Internet</li>
<li>Newspaper offers</li>
</ul>
<p>Research on Real Estate Market in Poland by Central Statistical Office (selected)</p>
<ul>
<li>LIVING CONDITIONS, SOCIAL ASSISTANCE
<ul>
<li>1.25.01(064) Household budgets</li>
<li>1.25.08(067) European Union Statistics on Income and Living Conditions</li>
<li>1.25.12(070) Poverty and social exclusion</li>
</ul></li>
<li>DWELLINGS, COMMUNAL INFRASTRUCTURE
<ul>
<li>1.26.01(073) Housing management</li>
<li>1.26.04(074) Property trade</li>
<li>1.26.06(075) Water, sewerage, heating, gas and electricity infrastructure</li>
<li>1.26.08(076) Municipal solid waste and the maintenance of municipalities in a clean and orderly condition</li>
<li>1.26.09(077) A survey of prices of housing and commercial properties</li>
<li>1.26.10(078) Description of housing resources</li>
</ul></li>
<li>AGRICULTURAL AND FORESTRY ACTIVITIES
<ul>
<li>1.45.02(124) Land management</li>
<li>1.45.03(125) Land use</li>
</ul></li>
<li>CONSTRUCTION ACTIVITIES
<ul>
<li>1.47.01(157) Construction and assembly production; costs listed by function of expense</li>
<li>1.47.04(158) Building permits issued and building notices submitted for the construction of buildings; effects of construction activities</li>
<li>1.47.05(159) Buildings completed</li>
<li>1.47.06(160) Demolition orders issued</li>
</ul></li>
<li>REGIONAL STUDIES</li>
</ul>
<p>Source: <a href="http://bip.stat.gov.pl/dzialalnosc-statystyki-publicznej/program-badan-statystycznych/pbssp-2017/">Statistical Research Program of Public Statistics for 2017</a></p>
</div>
<div id="where-we-can-get-these-data" class="section level2">
<h2><span class="header-section-number">3.2</span> Where we can get these data?</h2>
<ul>
<li>Publications:
<ul>
<li>Industry, Construction, Fixed Assets – <a href="http://stat.gov.pl/en/topics/industry-construction-fixed-assets/" class="uri">http://stat.gov.pl/en/topics/industry-construction-fixed-assets/</a></li>
<li>Municipal infrastructure – <a href="http://stat.gov.pl/en/topics/municipal-infrastructure/" class="uri">http://stat.gov.pl/en/topics/municipal-infrastructure/</a>
<ul>
<li>Real Estate Sales</li>
<li>Municipal infrastructure</li>
<li>Housing economy</li>
</ul></li>
<li>National Census of Population and Housing 2011</li>
</ul></li>
<li>Poland - macroeconomic indicators
<ul>
<li>Selected monthly macroeconomic indicators</li>
<li>Quarterly macroeconomic indicators</li>
<li>Annual macroeconomic indicators</li>
</ul></li>
<li>Local data bank – <a href="https://bdl.stat.gov.pl/BDL/dane/podgrup/temat" class="uri">https://bdl.stat.gov.pl/BDL/dane/podgrup/temat</a>
<ul>
<li>HOUSING ECONOMY AND MUNICIPAL INFRASTRUCTURE</li>
<li>INDUSTRY AND CONSTRUCTION</li>
<li>LOCAL GOVERNMENT (eg. taxes)</li>
</ul></li>
<li>Realized by NBP:
<ul>
<li>1.26.09(077) Badanie cen nieruchomości mieszkaniowych i komercyjnych</li>
</ul></li>
<li>Reports:
<ul>
<li>Report on the situation in the Polish residential and commercial real estate market (yearly)</li>
<li>House Prices Database - BaRN (2006 Q3 - 2016 Q3)</li>
<li>Information on home prices and the situation in the residential and commercial real estate market in Poland (quarterly)</li>
</ul></li>
</ul>
<p>Source: <a href="http://www.nbp.pl/homen.aspx?f=/en/publikacje/inne/real_estate_market_pre.html" class="uri">http://www.nbp.pl/homen.aspx?f=/en/publikacje/inne/real_estate_market_pre.html</a></p>
</div>
<div id="obtaining-data-from-the-internet" class="section level2">
<h2><span class="header-section-number">3.3</span> Obtaining data from the Internet</h2>
<p>Here we will focus on two packages <code>OECD</code> and <code>eurostat</code>, which allows to download data directly from OECD and Eurostat databases.</p>
<p>In the first step we will install these two packages</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&#39;OECD&#39;</span>,<span class="st">&#39;eurostat&#39;</span>))</code></pre></div>
<p>Then, we need to load them</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&#39;eurostat&#39;</span>)
<span class="kw">library</span>(<span class="st">&#39;OECD&#39;</span>)</code></pre></div>
<div id="oecd-package" class="section level3">
<h3><span class="header-section-number">3.3.1</span> OECD package</h3>
<p>Now, we will focus on OECD package which consist of the following functions</p>
<ul>
<li><code>browse_metadata</code> – Browse the metadata related to a series.</li>
<li><code>get_dataset</code> – Download OECD data sets.</li>
<li><code>get_datasets</code> – Get a data frame with information on all available datasets.</li>
<li><code>get_data_structure</code> – Get the data structure of a dataset.</li>
<li><code>search_dataset</code> – Search codes and descriptions of available OECD series</li>
</ul>
<p>Let’s check what data sources are related to real estate market.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">search_dataset</span>(<span class="st">&#39;real estate&#39;</span>)
d</code></pre></div>
<pre><code>## # A tibble: 0 × 2
## # ... with 2 variables: id &lt;fctr&gt;, title &lt;fctr&gt;</code></pre>
<p>Unfortunately, there are no tables that contains this term. Now, we can check <code>property</code> which is a general term for objects on real estate market</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">search_dataset</span>(<span class="st">&#39;Property&#39;</span>)
d</code></pre></div>
<pre><code>## # A tibble: 2 × 2
##            id
##        &lt;fctr&gt;
## 1        RPPI
## 2 RPPI_TARGET
## # ... with 1 more variables: title &lt;fctr&gt;</code></pre>
<p>We found two indicators <code>RPPI</code> and <code>RPPI_TARGET</code>. We can use function <code>browse_metadata</code> to provide information about these indicators.</p>
<div id="rppi-residential-property-prices-indices" class="section level4">
<h4><span class="header-section-number">3.3.1.1</span> RPPI – Residential Property Prices Indices</h4>
<p><code>RPPI</code> – Residential Property Prices Indices (RPPIs) – also named House price indices (HPIs), are index numbers that measure the price of residential properties over time. RPPIs are key statistics not only for citizens and households across the world, but also for economic and monetary policy makers. Among their professional uses, they serve, for example, to monitor macroeconomic imbalances and risk exposure of the financial sector.</p>
<p>Types of dwelling - please note that the classification and terminology may differ significantly from country to country.</p>
<ul>
<li>‘All type of dwellings’ refers to all kind of dwellings purchased by households regardless of their the structural characteristics, e.g. single-detached houses, semi-detached houses, terraced houses, row houses or townhouses, multi-family apartments, condominiums, and coops, etc.</li>
<li>‘Single-family dwellings’ are generally free standing residential building, e.g. detached house</li>
<li>‘Multi-family dwellings’ are multiple separate housing units for residential inhabitants contained within one building or several buildings within one complex, e.g. apartment building, duplex or semi-detached house, and townhouse.</li>
</ul>
<p>The statistical population is as follows</p>
<ul>
<li>The ‘Residential property Price Indices - Complete database’ dataset mainly contains quarterly statistics and related statistical methodological information for the 34 OECD member countries and for some non-member countries.</li>
</ul>
<p>This dataset focuses on comparable series for 3 target indicators:</p>
<ol style="list-style-type: decimal">
<li><code>RPPI</code> - Sales of newly-built and existing dwellings, all types of dwellings, whole country;</li>
<li><code>RPPI</code> - Sales of newly-built dwellings, all types of dwellings, whole country and;</li>
<li><code>RPPI</code> - Sales of existing dwellings, all types of dwellings, whole country.</li>
</ol>
<p>When none of these indicators was available, another one was selected. This is particularly true for Australia, Chile, Korea, Switzerland and the United States.</p>
<p>Data are available at a quarterly frequency for all the countries. For Canada, Chile, Israel, Japan, Korea and Turkey monthly data are also available.</p>
</div>
<div id="rppi_target-residential-property-prices-indices-headline-indicators" class="section level4">
<h4><span class="header-section-number">3.3.1.2</span> RPPI_TARGET – Residential Property Prices Indices (Headline indicators)</h4>
<p>Now, let’s check <code>RPPI_TARGET</code> variable</p>
<ul>
<li>The dataset called “Residential Property Price Indices (RPPIs) – Headline indicators” presents, for each country, the RPPI that is available at the most aggregate level.</li>
</ul>
<p>The ‘Residential property Price Indices - Headline indicators’ mainly contains quarterly statistics and related statistical methodological information for the 34 OECD member countries and some non-member countries.</p>
<p>The Price Index based on sales of newly-built and existing dwellings over the whole country (RPPI - Sales of newly-built and existing dwellings, all types of dwellings, whole country) was systematically selected when available. When this indicators was not available, another one was selected. This is particularly true for Switzerland, Canada, Turkey, Japan, Norway, Australia, Greece, Korea and the United States.</p>
<p>Data are available at a quarterly frequency for all countries. For Canada, Chile, Israel, Japan, Korea and Turkey monthly data are also available.</p>
</div>
<div id="obtaining-the-data" class="section level4">
<h4><span class="header-section-number">3.3.1.3</span> Obtaining the data</h4>
<p>First, we should apply function <code>get_data_structure</code> to verify the structure prior downloading</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">headline_struct &lt;-<span class="st"> </span><span class="kw">get_data_structure</span>(<span class="st">&#39;RPPI_TARGET&#39;</span>)
<span class="kw">str</span>(headline_struct,<span class="dv">1</span>)</code></pre></div>
<pre><code>## List of 12
##  $ VAR_DESC       :&#39;data.frame&#39;: 12 obs. of  2 variables:
##  $ LOCATION       :&#39;data.frame&#39;: 46 obs. of  2 variables:
##  $ SUBJECT        :&#39;data.frame&#39;: 8 obs. of  2 variables:
##  $ GEO_COVERAGE   :&#39;data.frame&#39;: 3 obs. of  2 variables:
##  $ MEASURE        :&#39;data.frame&#39;: 3 obs. of  2 variables:
##  $ FREQUENCY      :&#39;data.frame&#39;: 3 obs. of  2 variables:
##  $ TIME           :&#39;data.frame&#39;: 977 obs. of  2 variables:
##  $ OBS_STATUS     :&#39;data.frame&#39;: 14 obs. of  2 variables:
##  $ UNIT           :&#39;data.frame&#39;: 305 obs. of  2 variables:
##  $ POWERCODE      :&#39;data.frame&#39;: 32 obs. of  2 variables:
##  $ REFERENCEPERIOD:&#39;data.frame&#39;: 78 obs. of  2 variables:
##  $ TIME_FORMAT    :&#39;data.frame&#39;: 5 obs. of  2 variables:</code></pre>
<p>This is a list that contains the following variables</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">headline_struct$VAR_DESC</code></pre></div>
<pre><code>##                 id           description
## 1         LOCATION               Country
## 2          SUBJECT               Subject
## 3     GEO_COVERAGE Geographical coverage
## 4          MEASURE               Measure
## 5        FREQUENCY             Frequency
## 6             TIME                  Time
## 7        OBS_VALUE     Observation Value
## 8      TIME_FORMAT           Time Format
## 9       OBS_STATUS    Observation Status
## 10            UNIT                  Unit
## 11       POWERCODE       Unit multiplier
## 12 REFERENCEPERIOD      Reference period</code></pre>
<p>There are three indicators that we could focus on.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">headline_struct$MEASURE</code></pre></div>
<pre><code>##     id                                                     label
## 1 IXOB                                                     Index
## 2   GY Percentage change on the same period of the previous year
## 3   GP                    Percentage change from previous period</code></pre>
<p>And have the following frequency</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">headline_struct$FREQUENCY</code></pre></div>
<pre><code>##   id     label
## 1  A    Annual
## 2  Q Quarterly
## 3  M   Monthly</code></pre>
<p>For the purpose we will focus only on the following locations</p>
<ul>
<li>POL</li>
<li>EU28</li>
<li>CZE</li>
<li>HUN</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">headline &lt;-<span class="st"> </span><span class="kw">get_dataset</span>(<span class="dt">dataset =</span> <span class="st">&#39;RPPI_TARGET&#39;</span>,
                        <span class="dt">filter =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&#39;POL&#39;</span>,<span class="st">&#39;EU28&#39;</span>,<span class="st">&#39;CZE&#39;</span>,<span class="st">&#39;HUN&#39;</span>))) %&gt;%
<span class="st">  </span><span class="kw">filter</span>(FREQUENCY ==<span class="st"> &#39;Q&#39;</span>) %&gt;%
<span class="st">  </span><span class="kw">select</span>(LOCATION, obsTime, obsValue,MEASURE) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">obsTime =</span> <span class="kw">as.yearqtr</span>(obsTime, <span class="dt">format =</span> <span class="st">&#39;%Y-Q%q&#39;</span>))</code></pre></div>
<p>Now, plot the data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">headline %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(MEASURE ==<span class="st"> &#39;IXOB&#39;</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> .,
       <span class="kw">aes</span>(<span class="dt">x =</span> obsTime,
           <span class="dt">y =</span> obsValue,
           <span class="dt">group =</span> LOCATION,
           <span class="dt">colour =</span> LOCATION)) +
<span class="st">  </span><span class="kw">geom_line</span>() +
<span class="st">  </span><span class="kw">scale_x_yearqtr</span>() +
<span class="st">  </span><span class="kw">theme_bw</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&#39;Index (2010 = 100)&#39;</span>) +
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Quarter&#39;</span>) +
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Index&#39;</span>)</code></pre></div>
<p><img src="_main_files/figure-html/headline-IXOB-1.png" width="672" /></p>
<p>We can also use these data to plot different index</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">headline %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(MEASURE ==<span class="st"> &#39;GP&#39;</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> .,
       <span class="kw">aes</span>(<span class="dt">x =</span> obsTime,
           <span class="dt">y =</span> obsValue,
           <span class="dt">group =</span> LOCATION,
           <span class="dt">colour =</span> LOCATION)) +
<span class="st">  </span><span class="kw">geom_line</span>() +
<span class="st">  </span><span class="kw">scale_x_yearqtr</span>() +
<span class="st">  </span><span class="kw">theme_bw</span>() +
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&#39;Index (previous period = 100)&#39;</span>) +
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Quarter&#39;</span>) +
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Index&#39;</span>)</code></pre></div>
<p><img src="_main_files/figure-html/headline-GP-1.png" width="672" /></p>
<p>Now, lets, check the same countries but for the index <code>RPPI</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rppi_dict &lt;-<span class="st"> </span><span class="kw">get_data_structure</span>(<span class="st">&#39;RPPI&#39;</span>)
rppi &lt;-<span class="st"> </span><span class="kw">get_dataset</span>(<span class="st">&#39;RPPI&#39;</span>,
                    <span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&#39;POL&#39;</span>,<span class="st">&#39;EU28&#39;</span>,<span class="st">&#39;CZE&#39;</span>,<span class="st">&#39;HUN&#39;</span>))) %&gt;%
<span class="st">  </span><span class="kw">filter</span>(FREQUENCY ==<span class="st"> &#39;Q&#39;</span>,
         MEASURE ==<span class="st"> &#39;IXOB&#39;</span>) %&gt;%
<span class="st">  </span><span class="kw">select</span>(SUBJECT, LOCATION, obsTime, obsValue) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">obsTime =</span> <span class="kw">as.yearqtr</span>(obsTime, <span class="dt">format =</span> <span class="st">&#39;%Y-Q%q&#39;</span>))</code></pre></div>
<p>Let’s plot the data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rppi %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> .,
       <span class="kw">aes</span>(<span class="dt">x =</span> obsTime,
           <span class="dt">y =</span> obsValue,
           <span class="dt">group =</span> LOCATION,
           <span class="dt">colour =</span> LOCATION)) +
<span class="st">  </span><span class="kw">geom_line</span>() +
<span class="st">  </span><span class="kw">scale_x_yearqtr</span>() +
<span class="st">  </span><span class="kw">theme_bw</span>() +
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&#39;Index (2010 = 100)&#39;</span>) +
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;Quarter&#39;</span>) +
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;Index&#39;</span>) +
<span class="st">  </span><span class="kw">facet_wrap</span>(~SUBJECT,
             <span class="dt">labeller =</span> <span class="kw">labeller</span>(<span class="dt">SUBJECT =</span> 
               <span class="kw">c</span>(<span class="dt">RP0101=</span><span class="st">&#39;Sales of newly-built</span><span class="ch">\n</span><span class="st">and existing dwellings&#39;</span>,
                 <span class="dt">RPEX01=</span><span class="st">&#39;Sales of existing dwellings&#39;</span>,
                 <span class="dt">RPNW01=</span><span class="st">&#39;Sales of newly-built dwellings&#39;</span>)))</code></pre></div>
<p><img src="_main_files/figure-html/rppi-index-1.png" width="672" /></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="internet-data-sources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-data-sources.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
